(()=>{var e,t={1521:(e,t,n)=>{var r=n(4692);n(7081);const{Collapse:i,Modal:o}=n(9875);n(5194),n(6628),n(97),n(7776),n(4371),n(5219),n(9145),n(1453),n(8131);let a=n(879);const s=n(9692),{SearchNode:c}=n(1108),{init_simulator_tab:l}=n(985),{init_ultimate_tab:u}=n(7943),{init_ultimate_requirements_table_connection:h}=n(7943),{Textcomplete:d}=n(6e3),{TextareaEditor:f}=n(9787);let p,v,m=n(8357),g=new m([],{}),_=["","has_formalization"],y=["","Todo","Review","Done"],b=[":AND:",":OR:",":NOT:",":COL_INDEX_01:",":COL_INDEX_02:",":COL_INDEX_03:",":COL_INDEX_04:",":COL_INDEX_05:",":COL_INDEX_06:",":COL_INDEX_07:"],w=[""],x=[""],E=[],C=[!0,!0,!0,!0,!0,!0],O=[],k=JSON.parse(search_query),S={},L=[],M=sessionStorage.getItem("req_search_string"),I=sessionStorage.getItem("filter_status_string"),A=sessionStorage.getItem("filter_tag_string"),T=sessionStorage.getItem("filter_type_string");function N(){M=r("#search_bar").val().trim(),sessionStorage.setItem("req_search_string",M),p=c.fromQuery(M)}function q(){function e(e,t,n){return t.length>0&&(e.length>0&&(e=e.concat([":AND:"])),e=e.concat(function(e){return["("].concat(e,[")"])}(c.awesomeQuerySplitt0r(t,n)))),e}O=[],I=r("#status-filter-input").val(),A=r("#tag-filter-input").val(),T=r("#type-filter-input").val(),sessionStorage.setItem("filter_status_string",I),sessionStorage.setItem("filter_tag_string",A),sessionStorage.setItem("filter_type_string",T),O=e(O,T,4),O=e(O,A,5),O=e(O,I,6),v=c.searchArrayToTree(O)}function D(){let e=r("#requirements_table").DataTable(),t=[];r.each(e.columns().visible(),(function(e,n){!1===n?(r("#col_toggle_button_"+e).removeClass("btn-info").addClass("btn-secondary"),t.push(!1)):(r("#col_toggle_button_"+e).removeClass("btn-secondary").addClass("btn-info"),t.push(!0))})),C=t}function P(e){let t=[];return e.rows({selected:!0}).every((function(){let e=this.data();t.push(e.id)})),t}function j(){r.get("api/logs/get","",(function(e){r("#log_textarea").html(e)})).done((function(){r(".req_direct_link").click((function(){R(function(e){let t=r("#requirements_table").DataTable(),n=-1;return t.column(2).data().filter((function(t,r){return String(t)===String(e)&&(n=r,!0)})),n}(r(this).data("rid")))})),r("#log_textarea").scrollTop(1e5)}))}function R(e){if(-1===e)return void alert("Requirement not found.");H();let t=r("#requirements_table").DataTable().row(e).data(),n=r(".modal-content");o.getOrCreateInstance("#requirement_modal").show(),n.LoadingOverlay("show"),r("#formalization_accordion").html(""),r("#requirement_tag_field").data("bs.tokenfield").$input.autocomplete({source:_}),r.get("api/req/get",{id:t.id,row_idx:e},(function(t){if(!1===t.success)return void alert("Could Not load the Requirement: "+t.errormsg);r("#requirement_id").val(t.id),r("#modal_associated_row_index").val(e),x=t.available_vars,x=x.concat(t.additional_static_available_vars),L=t.type_inference_errors,g=new m(x,{shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:12,minMatchCharLength:1,keys:[]}),r("#requirement_modal_title").html(t.id+": "+t.type),r("#description_textarea").text(t.desc).change(),r("#add_guess_description").text(t.desc).change(),r("#formalization_accordion").html(t.formalizations_html),r("#requirement_scope").val(t.scope),r("#requirement_pattern").val(t.pattern),r("#tags_comments_table").find("tr:gt(0)").remove(),r("#requirement_tag_field").tokenfield("setTokens",t.tags),r("#tags_comments_table tr:gt(0)").each((function(){let e=r(this).find("td:eq(0)").text();r(this).find("textarea:eq(0)").val(t.tags_comments[e])})),r("#requirement_status").val(t.status);let n=r("#csv_content_accordion");n.html("");let i=t.csv_data;for(const e in i)if(i.hasOwnProperty(e)){const t=i[e];n.append("<p><strong>"+e+":</strong>"+t+"</p>")}let o=r("#show_revision_diff");r.isEmptyObject(t.revision_diff)?o.hide():o.show();let a=r("#revision_diff_accordion");a.html("");let s=t.revision_diff;for(const e in s)if(s.hasOwnProperty(e)){const t=s[e];a.append("<p><strong>"+e+":</strong><pre>"+t+"</pre></p>")}let c=r("#used_variables_accordion");c.html(""),t.vars.forEach((function(e){let t="?command=search&col=1&q=%5C%22"+e+"%5C%22";c.append('<span class="badge bg-info"><a href="./variables'+t+'" target="_blank">'+e+"</a></span>&numsp;")}))})).done((function(){U(),F(),$(),r("#requirement_modal").data({unsaved_changes:!1,updated_formalization:!1}),n.LoadingOverlay("hide",!0)}))}function F(){r(".reqirement-variable").each((function(){z(this)}))}function z(e){const t=new d(new f(e),[{match:/(|\s|[!=&\|>]+)(\w+)$/,index:2,search:function(e,t,n){let r=function(e){return g.search(e)}(e),i=[];for(let e=0;e<Math.min(10,r.length);e++)i.push(x[r[e].refIndex]);t(i)},replace:function(e){return"$1"+e+" "}}],{dropdown:{className:"dropdown-menu textcomplete-dropdown",maxCount:10,style:{display:"none",position:"absolute",zIndex:"9999"},item:{className:"dropdown-item",activeClassName:"dropdown-item active"}}});r(document).on("click",(function(e){t!==e.target&&t.hide()}))}function $(){r(".formalization_card").each((function(){const e=r(this).attr("title");let t="",n=r("#current_formalization_textarea"+e);const i=r("#requirement_scope"+e).find("option:selected").text().replace(/\s\s+/g," "),o=r("#requirement_pattern"+e).find("option:selected").text().replace(/\s\s+/g," ");"None"!==i&&"None"!==o&&(t=i+", "+o+".");let a=r("#formalization_var_p"+e).val(),c=r("#formalization_var_q"+e).val(),l=r("#formalization_var_r"+e).val(),u=r("#formalization_var_s"+e).val(),h=r("#formalization_var_t"+e).val(),d=r("#formalization_var_u"+e).val(),f=r("#formalization_var_v"+e).val();a.length>0&&(t=t.replace(/{P}/g,W(a))),c.length>0&&(t=t.replace(/{Q}/g,W(c))),l.length>0&&(t=t.replace(/{R}/g,W(l))),u.length>0&&(t=t.replace(/{S}/g,W(u))),h.length>0&&(t=t.replace(/{T}/g,W(h))),d.length>0&&(t=t.replace(/{U}/g,W(d))),f.length>0&&(t=t.replace(/{V}/g,W(f))),n.html(t),s.update(n)})),r("#requirement_modal").data({unsaved_changes:!0,updated_formalization:!0})}function W(e){let t="";return e.split(/([\s&<>!()=:\[\]{}\-|+*,])/g).forEach((function(e){x.includes(e)?t+='<a href="./variables?command=search&col=1&q=%5C%22'+e+'%5C%22" target="_blank"  title="Go to declaration of '+e+'" class="alert-link">'+e+"</a>":t+=a.escapeHtml(e)})),t}function U(){r(".requirement_var_group").each((function(){r(this).hide(),r(this).removeClass("type-error")})),r(".formalization_card").each((function(){const e=r(this).attr("title"),t=r("#requirement_scope"+e).val(),n=r("#requirement_pattern"+e).val();let i=r("#formalization_heading"+e),o=r("#requirement_var_group_p"+e),a=r("#requirement_var_group_q"+e),s=r("#requirement_var_group_r"+e),c=r("#requirement_var_group_s"+e),l=r("#requirement_var_group_t"+e),u=r("#requirement_var_group_u"+e),h=r("#requirement_var_group_v"+e);if(e in L)for(let t=0;t<L[e].length;t++)r("#formalization_var_"+L[e][t]+e).addClass("type-error"),i.addClass("type-error-head");else i.removeClass("type-error-head");switch(t){case"BEFORE":case"AFTER":o.show();break;case"BETWEEN":case"AFTER_UNTIL":o.show(),a.show()}Object.keys(_PATTERNS[n].env).forEach((function(e){switch(e){case"R":s.show();break;case"S":c.show();break;case"T":l.show();break;case"U":u.show();break;case"V":h.show()}}))}))}function H(){r.ajax({type:"GET",url:"api/tags/"}).done((function(e){_=[];for(let t of e)_.push(t.name),S[t.name]=t.color})).fail((function(e,t,n){alert(n+"\n\n"+e.responseText)}))}function B(e=!1){let t=r("#report_query_textarea"),n=r("#report_results_textarea"),i=r("#report_modal_title"),a=r("#report_name"),s="",c="",l="",u=-1;r("#report_modal"),!1!==e&&(u=e.attr("data-id"),s=E[u].queries,c=E[u].results,l=E[u].name),t.val(s).change(),n.val(c).change(),a.val(l).change(),i.html(l),r("#save_report").attr("data-id",u),o.getOrCreateInstance(document.querySelector("#report_modal")).show()}function Q(){r.get("api/report/get",{},(function(e){if(!1===e.success)alert(e.errormsg);else{let t="";E=e.data,r.each(e.data,(function(e,n){t+=`<div class="card border-primary">\n                              <div class="card-body">\n                                <h5 class="card-title">${n.name}</h5>\n                                <h6 class="card-subtitle mb-2 text-muted">Query</h6>\n                                <p class="card-text report-results">${n.queries}</p>\n                                <h6 class="card-subtitle mb-2 text-muted">Matches for queries</h6>\n                                <p class="card-text report-results">${n.results}</p>\n                                <a href="#" class="card-link open-report" data-id="${e}">\n                                    Edit (reevaluate) Report.\n                                </a>\n                                <a href="#" class="card-link delete-report" data-id="${e}">Delete Report.</a>\n                              </div>\n                            </div>`})),r("#available_reports").html(t)}}))}r(document).ready((function(){H(),function(){let e=r("#search_bar");new Awesomplete(e[0],{filter:function(e,t){let n=!1;return(t.split(":").length-1)%2==1&&(n=Awesomplete.FILTER_CONTAINS(e,t.match(/[^:]*$/)[0])),n},item:function(e,t){return Awesomplete.ITEM(e,t.match(/(:)([\S]*$)/)[2])},replace:function(e){const t=this.input.value.match(/(.*)(:(?!.*:).*$)/)[1];this.input.value=t+e},list:b,minChars:1,autoFirst:!0})}(),function(){let e=[{orderable:!1,className:"select-checkbox",targets:[0],data:null,defaultContent:""},{targets:[1],data:"pos"},{targets:[2],data:"id",render:function(e){return'<a href="#">'+a.escapeHtml(e)+"</a>"}},{targets:[3],data:"desc",render:function(e){return'<div class="white-space-pre">'+a.escapeHtml(e)+"</div>"}},{targets:[4],data:"type",render:function(e){return w.indexOf(e)<=-1&&w.push(e),a.escapeHtml(e)}},{targets:[5],data:"tags",render:function(e,t,n){let i="";return r(e).each((function(e,t){var n;t.length>0&&(i+='<span class="badge" style="background-color: '+(n=t,(S.hasOwnProperty(n)?S[n]:"var(--bs-info)")+'">')+a.escapeHtml(t)+"</span></br> ")})),i}},{targets:[6],data:"status",render:function(e){return'<span class="badge bg-info">'+e+"</span></br>"}},{targets:[7],data:"formal",render:function(e,t,n){let i="";return n.formal.length>0&&r(e).each((function(e,t){t.length>0&&(i+='<div class="white-space-pre">'+a.escapeHtml(t)+"</div>")})),i}}];r.get("api/table/colum_defs","",(function(t){const n=t.col_defs.length;for(let r=0;r<n;r++)e.push({targets:[parseInt(t.col_defs[r].target)],data:t.col_defs[r].csv_name,visible:!1,searchable:!0})})).done((function(){!function(e){let t=r("#requirements_table").DataTable({language:{emptyTable:"Loading data."},paging:!0,stateSave:!0,select:{style:"os",selector:"td:first-child"},order:[[1,"asc"]],pageLength:50,lengthMenu:[[10,50,100,500,-1],[10,50,100,500,"All"]],dom:'rt<"container"<"row"<"col-md-6"li><"col-md-6"p>>>',ajax:"api/req/gets",deferRender:!0,columnDefs:e,createdRow:function(e,t){"Heading"===t.type&&r(e).addClass("bg-primary"),"Information"===t.type&&r(e).addClass("table-info"),"Requirement"===t.type&&r(e).addClass("table-warning"),"not set"===t.type&&r(e).addClass("table-light")},infoCallback:function(e,t,n,i,o){let a=this.api().page.info();r("#clear-all-filters-text").html("Showing "+o+"/"+a.recordsTotal+". Clear all.");let s="Showing "+t+" to "+n+" of "+o+" entries";return s+=" (filtered from "+a.recordsTotal+" total entries).",s},initComplete:function(){r("#search_bar").val(M),r("#type-filter-input").val(T),r("#tag-filter-input").val(A),r("#status-filter-input").val(I);let e=this.api();!function(e){r("#requirements_table").find("tbody").on("click","a",(function(t){t.preventDefault(),R(e.row(r(this).closest("tr")).index())}))}(e),function(e){e.columns().every((function(t){t>0&&e.column(t).header().append(" ("+t+")")})),r("#save_requirement_modal").click((function(){!function(e){let t=r(".modal-content");t.LoadingOverlay("show");const n=r("#requirement_id").val(),i=r("#requirement_status").val(),a=r("#requirement_modal").data("updated_formalization"),s=parseInt(r("#modal_associated_row_index").val());let c={};r(".formalization_card").each((function(){let e={};e.id=r(this).attr("title"),r(this).find("select").each((function(){r(this).hasClass("scope_selector")&&(e.scope=r(this).val()),r(this).hasClass("pattern_selector")&&(e.pattern=r(this).val())})),e.expression_mapping={},r(this).find("textarea.reqirement-variable").each((function(){""!==r(this).attr("title")&&(e.expression_mapping[r(this).attr("title")]=r(this).val())})),c[e.id]=e}));let l=new Map;r("#tags_comments_table tr:gt(0)").each((function(){let e=r(this).find("td:eq(0)").text(),t=r(this).find("textarea:eq(0)").val();l.set(e,t)})),r.post("api/req/update",{id:n,row_idx:s,update_formalization:a,tags:JSON.stringify(Object.fromEntries(l)),status:i,formalizations:JSON.stringify(c)},(function(n){if(t.LoadingOverlay("hide",!0),!1===n.success)alert(n.errormsg);else{e.row(s).data(n),r("#requirement_modal").data("unsaved_changes",!1);const t=document.querySelector("#requirement_modal");o.getOrCreateInstance(t).hide()}})).done((function(){j()}))}(e)})),r("#search_bar").keypress((function(t){13===t.which&&(N(),e.draw())})),r("#type-filter-input").autocomplete({minLength:0,source:w,delay:100}),r("#status-filter-input").autocomplete({minLength:0,source:y,delay:100}),r("#tag-filter-input").autocomplete({minLength:0,source:_,delay:100}),r("#tag-filter-input, #status-filter-input, #type-filter-input").on("focus",(function(){r(this).keydown()})).on("keypress",(function(t){13===t.which&&(q(),e.draw())})),r("#table-filter-toggle").click((function(){r("#tag-filter-input").autocomplete({source:_}),r("#type-filter-input").autocomplete({source:w})})),r(".clear-all-filters").click((function(){r("#status-filter-input").val("").effect("highlight",{color:"green"},500),r("#tag-filter-input").val("").effect("highlight",{color:"green"},500),r("#type-filter-input").val("").effect("highlight",{color:"green"},500),r("#search_bar").val("").effect("highlight",{color:"green"},500),q(),N(),e.draw()})),r("#gen-req-from-selection").click((function(){let t=[];e.rows({search:"applied"}).every((function(){let e=this.data();t.push(e.id)})),r("#selected_requirement_ids").val(JSON.stringify(t)),r("#generate_req_form").submit()})),r("#gen-csv-from-selection").click((function(){let t=[];e.rows({search:"applied"}).every((function(){let e=this.data();t.push(e.id)})),r("#selected_csv_requirement_ids").val(JSON.stringify(t)),r("#generate_csv_form").submit()})),r("#gen-xls-from-selection").click((function(){let t=[];e.rows({search:"applied"}).every((function(){let e=this.data();t.push(e.id)})),r("#selected_xls_requirement_ids").val(JSON.stringify(t)),r("#generate_xls_form").submit()})),r(".column-toggle-button").on("click",(function(t){t.preventDefault();let n=e.column(r(this).attr("data-column"));n.visible(!n.visible()),D()})),r(".reset-column-toggle").on("click",(function(t){t.preventDefault(),e.columns(".default-col").visible(!0),e.columns(".extra-col").visible(!1),D()})),D(),r(".select-all-button").on("click",(function(){r(this).hasClass("btn-secondary")?e.rows({page:"current"}).select():e.rows({page:"current"}).deselect(),r(".select-all-button").toggleClass("btn-secondary btn-primary")})),e.on("user-select",(function(){let e=r(".select-all-button");e.removeClass("btn-primary"),e.addClass("btn-secondary ")})),r("#multi-add-tag-input, #multi-remove-tag-input").autocomplete({minLength:0,source:_,delay:100}).on("focus",(function(){r(this).keydown()})).val(""),r("#multi-set-status-input").autocomplete({minLength:0,source:y,delay:100}).on("focus",(function(){r(this).keydown()})).val(""),r(".apply-multi-edit").click((function(){!function(e){let t=r("body");t.LoadingOverlay("show");let n=r("#multi-add-tag-input").val().trim(),i=r("#multi-remove-tag-input").val().trim(),o=r("#multi-set-status-input").val().trim(),a=P(e);r.post("api/req/multi_update",{add_tag:n,remove_tag:i,set_status:o,selected_ids:JSON.stringify(a)},(function(e){t.LoadingOverlay("hide",!0),!1===e.success?alert(e.errormsg):location.reload()}))}(e)})),r(".add_top_guess_button").bootstrapConfirmButton({onConfirm:function(){!function(e){let t=r("body");t.LoadingOverlay("show");let n=P(e),i=r("#top_guess_append_mode").val();r.post("api/req/multi_add_top_guess",{selected_ids:JSON.stringify(n),insert_mode:i},(function(e){t.LoadingOverlay("hide",!0),!1===e.success?alert(e.errormsg):location.reload()}))}(e)}})}(e),h(e),a.process_url_query(k),N(),q(),r.fn.dataTable.ext.search.push((function(e,t){return function(e){return p.evaluate(e,C)&&v.evaluate(e,C)}(t)})),this.api().draw()}});new r.fn.dataTable.ColReorder(t,{})}(e)}))}(),function(){let e=r("#requirement_modal");r("#requirement_tag_field").tokenfield({autocomplete:{source:_,delay:100},showAutocompleteOnFocus:!0}).change((function(){e.data("unsaved_changes",!0)})),r("#requirement_status").change((function(){r("#requirement_modal").data("unsaved_changes",!0)})),e[0].addEventListener("hide.bs.modal",(function(e){!function(e){!0===r("#requirement_modal").data("unsaved_changes")&&!0!==confirm("You have unsaved changes, do you really want to close?")&&e.preventDefault()}(e)})),r(document).keyup((function(e){if(r(".modal:visible").length&&27===e.keyCode){let e=r("input[type=text], textarea, select").filter(":focus");0===e.length?r("#requirement_guess_modal:visible").length?o.getOrCreateInstance("#requirement_guess_modal").hide():o.getOrCreateInstance("#requirement_modal").hide():e.each((function(){r(this).blur()}))}})),e.on("hidden.bs.modal",(function(){r("#requirement_tag_field").val(""),r("#requirement_tag_field-tokenfield").val("")})),r("#add_formalization").click((function(){!function(){let e=r(".modal-content");e.LoadingOverlay("show");const t=r("#requirement_id").val();r.post("api/req/new_formalization",{id:t},(function(t){if(e.LoadingOverlay("hide",!0),!1===t.success)alert(t.errormsg);else{let e=r(t.html);e.find(".reqirement-variable").each((function(){z(this)})),e.appendTo("#formalization_accordion")}})).done((function(){U(),$(),j()}))}()})),r("#add_gussed_formalization").click((function(){!function(){let e=r("#requirement_guess_modal"),t=r("#available_guesses_cards"),n=r(".modal-content"),i=r("#requirement_id").val();function a(e){let n='<div class="card">                    <div class="pl-1 pr-1">                        <p>'+e.string+'                        </p>                    </div>                    <button type="button" class="btn btn-success btn-sm add_guess"                            title="Add formalization"                            data-scope="'+e.scope+'"                            data-pattern="'+e.pattern+"\"                            data-mapping='"+JSON.stringify(e.mapping)+"'>                        <strong>+ Add this formalization +</strong>                    </button>                </div>";t.append(n)}new o(e,{keyboard:!1}),o.getOrCreateInstance(e).show(),n.LoadingOverlay("show"),t.html(""),r.post("api/req/get_available_guesses",{requirement_id:i},(function(e){if(!1===e.success)alert(e.errormsg);else for(let t=0;t<e.available_guesses.length;t++)a(e.available_guesses[t])})).done((function(){r(".add_guess").click((function(){!function(e,t,n){let i=r(".modal-content");i.LoadingOverlay("show");let o=r("#requirement_id").val();r.post("api/req/add_formalization_from_guess",{requirement_id:o,scope:e,pattern:t,mapping:JSON.stringify(n)},(function(e){i.LoadingOverlay("hide",!0),!1===e.success?alert(e.errormsg):r("#formalization_accordion").append(e.html)})).done((function(){U(),$(),F(),j()}))}(r(this).data("scope"),r(this).data("pattern"),r(this).data("mapping"))})),n.LoadingOverlay("hide",!0)}))}()})),r(".modal").on("hidden.bs.modal",(function(){r(".modal:visible").length?r("body").addClass("modal-open"):r("textarea").each((function(){s.destroy(r(this))}))})),r("#formalization_accordion").on("shown.bs.collapse",".card",(function(){r(this).find("textarea").each((function(){s(r(this)),s.update(r(this))}))})),U()}(),j(),function(){r("#add-new-report").click((function(){B()})),r("#eval_report").click((function(){!function(){let e=r("body");e.LoadingOverlay("show");const t=r("#report_query_textarea").val().split("\n");let n=r("#requirements_table").DataTable(),i="";const o=/^(:NAME:)(`(\w+)`)(.*)/;try{r.each(t,(function(e,t){let r=o.exec(t);null!=r&&(t=r[4],e=r[3]),p=c.fromQuery(t),n.draw();let a=n.page.info();i+=`"${e}":\t${a.recordsDisplay}\n`})),r("#report_results_textarea").val(i).change(),N(),n.draw()}catch(e){alert(e)}e.LoadingOverlay("hide",!0)}()})),r("#save_report").click((function(){!function(){let e=r("body");e.LoadingOverlay("show"),r.post("api/report/set",{report_querys:r("#report_query_textarea").val(),report_results:r("#report_results_textarea").val(),report_name:r("#report_name").val(),report_id:r("#save_report").attr("data-id")},(function(t){e.LoadingOverlay("hide",!0),!1===t.success&&alert(t.errormsg),Q()}))}()}));let e=r("#available_reports");e.on("click",".open-report",(function(){B(r(this))})),e.on("click",".delete-report",(function(){!function(e){r.ajax({type:"DELETE",url:"api/report/delete",data:{report_id:e},success:function(e){!1===e.success&&alert(e.errormsg),Q()}})}(r(this).attr("data-id"))})),r("#report_name").change((function(){r("#report_modal_title").html(r(this).val())})),Q()}(),l(),u();let e=r("body");r("body").bootstrapConfirmButton({selector:".delete_formalization",onConfirm:function(){!function(e,t){let n=r(".modal-content");n.LoadingOverlay("show");const i=r("#requirement_id").val();r.post("api/req/del_formalization",{requirement_id:i,formalization_id:e},(function(e){n.LoadingOverlay("hide",!0),!1===e.success?alert(e.errormsg):t.remove()})).done((function(){U(),$(),j()}))}(r(this).attr("name"),r(this).closest(".accordion-item"))}}),e.on("click",".delete_formalization1",(function(){bootstrapConfirmation({yesCallBack:function(){console.log("yes")},noCallBack:function(){console.log("no")},config:{closeIcon:!0,message:"This is an example.",title:"Example",no:{class:"btn btn-danger",text:"No"},yes:{class:"btn btn-success",text:"Yes"}}})})),e.on("change",".formalization_selector, .reqirement-variable, .req_var_type",(function(){$()})),e.on("change",".formalization_selector",(function(){U()})),document.getElementById("requirement_modal").addEventListener("shown.bs.modal",(function(){r(this).find("textarea").each((function(){s(r(this)),s.update(r(this))}))})),e.on("change focus","textarea",(function(){s(r(this)),s.update(r(this))})),r("#requirement_tag_field").on("tokenfield:createtoken",(function(e){let t=r(this).tokenfield("getTokens");for(const n of t)if(e.attrs.value===n.value)return!1})).on("tokenfield:createdtoken",(function(e){var t;t="<tr><td>"+e.attrs.value+"</td><td><textarea rows='1' class='form-control w-100' type='text'></textarea></td>",r("#tags_comments_table tbody").append(t)})).on("tokenfield:removedtoken",(function(e){r("#tags_comments_table tr:gt(0)").each((function(){let t=r(this);r(this).find("td:eq(0)").text()===e.attrs.value&&t.remove()}))}))}))},985:(e,t,n)=>{var r=n(4692);const{init_simulator_modal:i}=n(6199);function o(e,t,n=!1){if(id=t.simulator_id,name=t.simulator_name,n)return e.prepend(r("<option></option>").val(id).text(name+" ("+id+")")),void e.prop("selectedIndex",0);e.empty(),r.each(t.simulators,(function(t,n){e.prepend(r("<option></option>").val(t).text(n+" ("+t+")"))}))}function a(e){let t=[];return e.DataTable().rows({selected:!0}).every((function(){t.push(this.data().id)})),t}t.init_simulator_tab=function(){const e=r("#simulator-tab-name-input"),t=r("#simulator-tab-select"),n=r("#simulator-tab-create-btn"),s=r("#simulator-tab-delete-btn"),c=r("#simulator-tab-start-btn"),l=r("#requirements_table");r.ajax({type:"GET",url:"simulator",async:!1,data:{command:"get_simulators"},success:function(e){!1!==e.success?o(t,e.data):alert(e.errormsg)}}),n.click((function(){r.ajax({type:"POST",url:"simulator",async:!1,data:{command:"create_simulator",simulator_name:e.val()||"unnamed",requirement_ids:JSON.stringify(a(l))},success:function(e){!1!==e.success?o(t,e.data,!0):alert(e.errormsg)}})})),s.click((function(){r.ajax({type:"DELETE",url:"simulator",async:!1,data:{command:"delete_simulator",simulator_id:t.val()},success:function(e){!1!==e.success?o(t,e.data):alert(e.errormsg)}})})),c.click((function(){r.ajax({type:"GET",url:"simulator",async:!1,data:{command:"start_simulator",simulator_id:t.val()},success:function(e){!1!==e.success?i(e.data):alert(e.errormsg)}})}))}},2615:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Completer=void 0;const r=n(228),i=n(9099);class o extends r.EventEmitter{constructor(e){super(),this.handleQueryResult=e=>{this.emit("hit",{searchResults:e})},this.strategies=e.map((e=>new i.Strategy(e)))}destroy(){return this.strategies.forEach((e=>e.destroy())),this}run(e){for(const t of this.strategies)if(t.execute(e,this.handleQueryResult))return;this.handleQueryResult([])}}t.Completer=o},4871:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dropdown=t.DEFAULT_DROPDOWN_ITEM_ACTIVE_CLASS_NAME=t.DEFAULT_DROPDOWN_ITEM_CLASS_NAME=t.DEFAULT_DROPDOWN_CLASS_NAME=t.DEFAULT_DROPDOWN_PLACEMENT=t.DEFAULT_DROPDOWN_MAX_COUNT=void 0;const r=n(228),i=n(2665);t.DEFAULT_DROPDOWN_MAX_COUNT=10,t.DEFAULT_DROPDOWN_PLACEMENT="auto",t.DEFAULT_DROPDOWN_CLASS_NAME="dropdown-menu textcomplete-dropdown",t.DEFAULT_DROPDOWN_ITEM_CLASS_NAME="textcomplete-item",t.DEFAULT_DROPDOWN_ITEM_ACTIVE_CLASS_NAME=`${t.DEFAULT_DROPDOWN_ITEM_CLASS_NAME} active`;class o extends r.EventEmitter{static create(e){const n=document.createElement("ul");n.className=e.className||t.DEFAULT_DROPDOWN_CLASS_NAME,Object.assign(n.style,{display:"none",position:"absolute",zIndex:"1000"},e.style);const r=e.parent||document.body;return null==r||r.appendChild(n),new o(n,e)}constructor(e,t){super(),this.el=e,this.option=t,this.shown=!1,this.items=[],this.activeIndex=null}render(e,n){const r=(0,i.createCustomEvent)("render",{cancelable:!0});return this.emit("render",r),r.defaultPrevented?this:(this.clear(),0===e.length?this.hide():(this.items=e.slice(0,this.option.maxCount||t.DEFAULT_DROPDOWN_MAX_COUNT).map(((e,t)=>{var n;return new a(this,t,e,(null===(n=this.option)||void 0===n?void 0:n.item)||{})})),this.setStrategyId(e[0]).renderEdge(e,"header").renderItems().renderEdge(e,"footer").show().setOffset(n).activate(0),this.emit("rendered",(0,i.createCustomEvent)("rendered")),this))}destroy(){var e;return this.clear(),null===(e=this.el.parentNode)||void 0===e||e.removeChild(this.el),this}select(e){const t={searchResult:e.searchResult},n=(0,i.createCustomEvent)("select",{cancelable:!0,detail:t});return this.emit("select",n),n.defaultPrevented||(this.hide(),this.emit("selected",(0,i.createCustomEvent)("selected",{detail:t}))),this}show(){if(!this.shown){const e=(0,i.createCustomEvent)("show",{cancelable:!0});if(this.emit("show",e),e.defaultPrevented)return this;this.el.style.display="block",this.shown=!0,this.emit("shown",(0,i.createCustomEvent)("shown"))}return this}hide(){if(this.shown){const e=(0,i.createCustomEvent)("hide",{cancelable:!0});if(this.emit("hide",e),e.defaultPrevented)return this;this.el.style.display="none",this.shown=!1,this.clear(),this.emit("hidden",(0,i.createCustomEvent)("hidden"))}return this}clear(){return this.items.forEach((e=>e.destroy())),this.items=[],this.el.innerHTML="",this.activeIndex=null,this}up(e){return this.shown?this.moveActiveItem("prev",e):this}down(e){return this.shown?this.moveActiveItem("next",e):this}moveActiveItem(e,t){if(null!=this.activeIndex){const n="next"===e?this.getNextActiveIndex():this.getPrevActiveIndex();null!=n&&(this.activate(n),t.preventDefault())}return this}activate(e){return this.activeIndex!==e&&(null!=this.activeIndex&&this.items[this.activeIndex].deactivate(),this.activeIndex=e,this.items[e].activate()),this}isShown(){return this.shown}getActiveItem(){return null!=this.activeIndex?this.items[this.activeIndex]:null}setOffset(e){const n=document.documentElement;if(n){const r=this.el.offsetWidth;if(e.left){const t=this.option.dynamicWidth?n.scrollWidth:n.clientWidth;e.left+r>t&&(e.left=t-r),this.el.style.left=`${e.left}px`}else e.right&&(e.right-r<0&&(e.right=0),this.el.style.right=`${e.right}px`);let i=!1;const o=this.option.placement||t.DEFAULT_DROPDOWN_PLACEMENT;if("auto"===o){const t=this.items.length*e.lineHeight;i=null!=e.clientTop&&e.clientTop+t>n.clientHeight}"top"===o||i?(this.el.style.bottom=`${n.clientHeight-e.top+e.lineHeight}px`,this.el.style.top="auto"):(this.el.style.top=`${e.top}px`,this.el.style.bottom="auto")}return this}getNextActiveIndex(){if(null==this.activeIndex)throw new Error;return this.activeIndex<this.items.length-1?this.activeIndex+1:this.option.rotate?0:null}getPrevActiveIndex(){if(null==this.activeIndex)throw new Error;return 0!==this.activeIndex?this.activeIndex-1:this.option.rotate?this.items.length-1:null}renderItems(){const e=document.createDocumentFragment();for(const t of this.items)e.appendChild(t.el);return this.el.appendChild(e),this}setStrategyId(e){const t=e.getStrategyId();return t&&(this.el.dataset.strategy=t),this}renderEdge(e,t){const n=this.option[t],r=document.createElement("li");return r.className=`textcomplete-${t}`,r.innerHTML="function"==typeof n?n(e.map((e=>e.data))):n||"",this.el.appendChild(r),this}}t.Dropdown=o;class a{constructor(e,n,r,i){this.dropdown=e,this.index=n,this.searchResult=r,this.props=i,this.active=!1,this.onClick=e=>{e.preventDefault(),this.dropdown.select(this)},this.className=this.props.className||t.DEFAULT_DROPDOWN_ITEM_CLASS_NAME,this.activeClassName=this.props.activeClassName||t.DEFAULT_DROPDOWN_ITEM_ACTIVE_CLASS_NAME;const o=document.createElement("li");o.className=this.active?this.activeClassName:this.className;const a=document.createElement("span");a.tabIndex=-1,a.innerHTML=this.searchResult.render(),o.appendChild(a),o.addEventListener("click",this.onClick),this.el=o}destroy(){var e;const t=this.el;return null===(e=t.parentNode)||void 0===e||e.removeChild(t),t.removeEventListener("click",this.onClick,!1),this}activate(){return this.active||(this.active=!0,this.el.className=this.activeClassName,this.dropdown.el.scrollTop=this.el.offsetTop),this}deactivate(){return this.active&&(this.active=!1,this.el.className=this.className),this}}},3271:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Editor=void 0;const r=n(228),i=n(2665);class o extends r.EventEmitter{destroy(){return this}applySearchResult(e){throw new Error("Not implemented.")}getCursorOffset(){throw new Error("Not implemented.")}getBeforeCursor(){throw new Error("Not implemented.")}emitMoveEvent(e){const t=(0,i.createCustomEvent)("move",{cancelable:!0,detail:{code:e}});return this.emit("move",t),t}emitEnterEvent(){const e=(0,i.createCustomEvent)("enter",{cancelable:!0});return this.emit("enter",e),e}emitChangeEvent(){const e=(0,i.createCustomEvent)("change",{detail:{beforeCursor:this.getBeforeCursor()}});return this.emit("change",e),e}emitEscEvent(){const e=(0,i.createCustomEvent)("esc",{cancelable:!0});return this.emit("esc",e),e}getCode(e){switch(e.keyCode){case 9:case 13:return"ENTER";case 27:return"ESC";case 38:return"UP";case 40:return"DOWN";case 78:if(e.ctrlKey)return"DOWN";break;case 80:if(e.ctrlKey)return"UP"}return"OTHER"}}t.Editor=o},3103:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchResult=void 0;const n=/\$&/g,r=/\$(\d)/g;t.SearchResult=class{constructor(e,t,n){this.data=e,this.term=t,this.strategy=n}getReplacementData(e){let t=this.strategy.replace(this.data);if(null==t)return null;let i="";Array.isArray(t)&&(i=t[1],t=t[0]);const o=this.strategy.match(e);if(null==o||null==o.index)return null;const a=t.replace(n,o[0]).replace(r,((e,t)=>o[parseInt(t)]));return{start:o.index,end:o.index+o[0].length,beforeCursor:a,afterCursor:i}}replace(e,t){const n=this.getReplacementData(e);if(null!==n)return t=n.afterCursor+t,[[e.slice(0,n.start),n.beforeCursor,e.slice(n.end)].join(""),t]}render(){return this.strategy.renderTemplate(this.data,this.term)}getStrategyId(){return this.strategy.getId()}}},9099:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Strategy=t.DEFAULT_INDEX=void 0;const r=n(3103);t.DEFAULT_INDEX=1,t.Strategy=class{constructor(e){this.props=e,this.cache={}}destroy(){return this.cache={},this}replace(e){return this.props.replace(e)}execute(e,n){var i;const o=this.matchWithContext(e);if(!o)return!1;const a=o[null!==(i=this.props.index)&&void 0!==i?i:t.DEFAULT_INDEX];return this.search(a,(e=>{n(e.map((e=>new r.SearchResult(e,a,this))))}),o),!0}renderTemplate(e,t){if(this.props.template)return this.props.template(e,t);if("string"==typeof e)return e;throw new Error(`Unexpected render data type: ${typeof e}. Please implement template parameter by yourself`)}getId(){return this.props.id||null}match(e){return"function"==typeof this.props.match?this.props.match(e):e.match(this.props.match)}search(e,t,n){this.props.cache?this.searchWithCach(e,t,n):this.props.search(e,t,n)}matchWithContext(e){const t=this.context(e);return!1===t?null:this.match(!0===t?e:t)}context(e){return!this.props.context||this.props.context(e)}searchWithCach(e,t,n){null!=this.cache[e]?t(this.cache[e]):this.props.search(e,(n=>{this.cache[e]=n,t(n)}),n)}}},8638:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Textcomplete=void 0;const r=n(228),i=n(4871),o=n(2615),a=["show","shown","render","rendered","selected","hidden","hide"];class s extends r.EventEmitter{constructor(e,t,n){super(),this.editor=e,this.isQueryInFlight=!1,this.nextPendingQuery=null,this.handleHit=({searchResults:e})=>{e.length?this.dropdown.render(e,this.editor.getCursorOffset()):this.dropdown.hide(),this.isQueryInFlight=!1,null!==this.nextPendingQuery&&this.trigger(this.nextPendingQuery)},this.handleMove=e=>{"UP"===e.detail.code?this.dropdown.up(e):this.dropdown.down(e)},this.handleEnter=e=>{const t=this.dropdown.getActiveItem();t?(this.dropdown.select(t),e.preventDefault()):this.dropdown.hide()},this.handleEsc=e=>{this.dropdown.isShown()&&(this.dropdown.hide(),e.preventDefault())},this.handleChange=e=>{null!=e.detail.beforeCursor?this.trigger(e.detail.beforeCursor):this.dropdown.hide()},this.handleSelect=e=>{this.emit("select",e),e.defaultPrevented||this.editor.applySearchResult(e.detail.searchResult)},this.handleResize=()=>{this.dropdown.isShown()&&this.dropdown.setOffset(this.editor.getCursorOffset())},this.completer=new o.Completer(t),this.dropdown=i.Dropdown.create((null==n?void 0:n.dropdown)||{}),this.startListening()}destroy(e=!0){return this.completer.destroy(),this.dropdown.destroy(),e&&this.editor.destroy(),this.stopListening(),this}isShown(){return this.dropdown.isShown()}hide(){return this.dropdown.hide(),this}trigger(e){return this.isQueryInFlight?this.nextPendingQuery=e:(this.isQueryInFlight=!0,this.nextPendingQuery=null,this.completer.run(e)),this}startListening(){var e;this.editor.on("move",this.handleMove).on("enter",this.handleEnter).on("esc",this.handleEsc).on("change",this.handleChange),this.dropdown.on("select",this.handleSelect);for(const e of a)this.dropdown.on(e,(t=>this.emit(e,t)));this.completer.on("hit",this.handleHit),null===(e=this.dropdown.el.ownerDocument.defaultView)||void 0===e||e.addEventListener("resize",this.handleResize)}stopListening(){var e;null===(e=this.dropdown.el.ownerDocument.defaultView)||void 0===e||e.removeEventListener("resize",this.handleResize),this.completer.removeAllListeners(),this.dropdown.removeAllListeners(),this.editor.removeListener("move",this.handleMove).removeListener("enter",this.handleEnter).removeListener("esc",this.handleEsc).removeListener("change",this.handleChange)}}t.Textcomplete=s},6e3:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2615),t),i(n(4871),t),i(n(3271),t),i(n(3103),t),i(n(9099),t),i(n(8638),t),i(n(2665),t)},2665:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCustomEvent=void 0;const n="undefined"!=typeof window&&!!window.CustomEvent;t.createCustomEvent=(e,t)=>{if(n)return new CustomEvent(e,t);const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,!1,(null==t?void 0:t.cancelable)||!1,(null==t?void 0:t.detail)||void 0),r}},8456:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TextareaEditor=void 0;const i=n(2531),o=r(n(7037)),a=n(6e3),s=n(9326);class c extends a.Editor{constructor(e){super(),this.el=e,this.onInput=()=>{this.emitChangeEvent()},this.onKeydown=e=>{const t=this.getCode(e);let n;"UP"===t||"DOWN"===t?n=this.emitMoveEvent(t):"ENTER"===t?n=this.emitEnterEvent():"ESC"===t&&(n=this.emitEscEvent()),n&&n.defaultPrevented&&e.preventDefault()},this.startListening()}destroy(){return super.destroy(),this.stopListening(),this}applySearchResult(e){const t=this.getBeforeCursor();if(null!=t){const n=e.replace(t,this.getAfterCursor());this.el.focus(),Array.isArray(n)&&((0,i.update)(this.el,n[0],n[1]),this.el&&this.el.dispatchEvent((0,a.createCustomEvent)("input")))}}getCursorOffset(){const e=(0,s.calculateElementOffset)(this.el),t=this.getElScroll(),n=this.getCursorPosition(),r=(0,s.getLineHeightPx)(this.el),i=e.top-t.top+n.top+r,o=e.left-t.left+n.left,a=this.el.getBoundingClientRect().top;return"rtl"!==this.el.dir?{top:i,left:o,lineHeight:r,clientTop:a}:{top:i,right:document.documentElement?document.documentElement.clientWidth-o:0,lineHeight:r,clientTop:a}}getBeforeCursor(){return this.el.selectionStart!==this.el.selectionEnd?null:this.el.value.substring(0,this.el.selectionEnd)}getAfterCursor(){return this.el.value.substring(this.el.selectionEnd)}getElScroll(){return{top:this.el.scrollTop,left:this.el.scrollLeft}}getCursorPosition(){return(0,o.default)(this.el,this.el.selectionEnd)}startListening(){this.el.addEventListener("input",this.onInput),this.el.addEventListener("keydown",this.onKeydown)}stopListening(){this.el.removeEventListener("input",this.onInput),this.el.removeEventListener("keydown",this.onKeydown)}}t.TextareaEditor=c},9787:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextareaEditor=void 0;var r=n(8456);Object.defineProperty(t,"TextareaEditor",{enumerable:!0,get:function(){return r.TextareaEditor}})},1251:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateElementOffset=void 0,t.calculateElementOffset=e=>{const t=e.getBoundingClientRect(),n=e.ownerDocument;if(null==n)throw new Error("Given element does not belong to document");const{defaultView:r,documentElement:i}=n;if(null==r)throw new Error("Given element does not belong to window");const o={top:t.top+r.pageYOffset,left:t.left+r.pageXOffset};return i&&(o.top-=i.clientTop,o.left-=i.clientLeft),o}},8675:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLineHeightPx=void 0;const n="0".charCodeAt(0),r="9".charCodeAt(0),i=e=>n<=e&&e<=r;t.getLineHeightPx=e=>{const t=getComputedStyle(e),n=t.lineHeight;if(i(n.charCodeAt(0))){const e=parseFloat(n);return i(n.charCodeAt(n.length-1))?e*parseFloat(t.fontSize):e}return o(e.nodeName,t)};const o=(e,t)=>{const n=document.body;if(!n)return 0;const r=document.createElement(e);r.innerHTML="&nbsp;",Object.assign(r.style,{fontSize:t.fontSize,fontFamily:t.fontFamily,padding:"0"}),n.appendChild(r),r instanceof HTMLTextAreaElement&&(r.rows=1);const i=r.offsetHeight;return n.removeChild(r),i}},9326:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1251),t),i(n(8675),t),i(n(1960),t)},1960:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSafari=void 0,t.isSafari=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},228:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var c,l,u=this._events[s],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,o),!0;case 6:return u.fn.call(u.context,t,r,i,o,a),!0}for(l=1,c=new Array(h-1);l<h;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var d,f=u.length;for(l=0;l<f;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),h){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,r);break;case 4:u[l].fn.call(u[l].context,t,r,i);break;default:if(!c)for(d=1,c=new Array(h-1);d<h;d++)c[d-1]=arguments[d];u[l].fn.apply(u[l].context,c)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var c=0,l=[],u=s.length;c<u;c++)(s[c].fn!==t||i&&!s[c].once||r&&s[c].context!==r)&&l.push(s[c]);l.length?this._events[o]=1===l.length?l[0]:l:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},7037:e=>{!function(){var t=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],n="undefined"!=typeof window,r=n&&null!=window.mozInnerScreenX;function i(e,i,o){if(!n)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var a=o&&o.debug||!1;if(a){var s=document.querySelector("#input-textarea-caret-position-mirror-div");s&&s.parentNode.removeChild(s)}var c=document.createElement("div");c.id="input-textarea-caret-position-mirror-div",document.body.appendChild(c);var l=c.style,u=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,h="INPUT"===e.nodeName;l.whiteSpace="pre-wrap",h||(l.wordWrap="break-word"),l.position="absolute",a||(l.visibility="hidden"),t.forEach((function(e){h&&"lineHeight"===e?l.lineHeight=u.height:l[e]=u[e]})),r?e.scrollHeight>parseInt(u.height)&&(l.overflowY="scroll"):l.overflow="hidden",c.textContent=e.value.substring(0,i),h&&(c.textContent=c.textContent.replace(/\s/g," "));var d=document.createElement("span");d.textContent=e.value.substring(i)||".",c.appendChild(d);var f={top:d.offsetTop+parseInt(u.borderTopWidth),left:d.offsetLeft+parseInt(u.borderLeftWidth),height:parseInt(u.lineHeight)};return a?d.style.backgroundColor="#aaa":document.body.removeChild(c),f}void 0!==e.exports?e.exports=i:n&&(window.getCaretCoordinates=i)}()},7943:(e,t,n)=>{var r=n(4692);function i(e,t){let n=e.text();e.text("Processing Request");let i={selected_requirement_ids:JSON.stringify(t)};"all"===t&&(i={}),r.ajax({type:"POST",url:"api/tools/req_file",data:i}).done((function(i){let o=r("#ultimate-tab-configuration-select").val();r.ajax({type:"POST",url:"api/ultimate/job",data:JSON.stringify({configuration:o,req_file:i,req_ids:t})}).done((function(t){console.log(t.requestId),e.text(n)})).fail((function(e,t,n){alert(n+"\n\n"+e.responseText)}))})).fail((function(e,t,n){alert(n+"\n\n"+e.responseText)}))}e.exports.init_ultimate_tab=function(){r.ajax({type:"GET",url:"api/ultimate/version"}).done((function(e){if(""!==e.version){let t=r("#ultimate-tab-ultimate-status-img"),n=t.attr("src");t.attr("src",n.replace("/disconnected.svg","/connected.svg")),t.attr("title","Ultimate Api connected: "+e.version),r("#ultimate-tab-create-unfiltered-btn").prop("disabled",!1),r("#ultimate-tab-create-filtered-btn").prop("disabled",!1),r("#ultimate-tab-create-selected-btn").prop("disabled",!1)}else console.log("no ultimate connection found!")})).fail((function(e,t,n){alert(n+"\n\n"+e.responseText)})),r.ajax({type:"GET",url:"api/ultimate/configurations"}).done((function(e){let t=r("#ultimate-tab-configuration-select");t.empty();let n=Object.keys(e);for(let i=0;i<n.length;i++){let o=n[i];o+=" (Toolchain: "+e[n[i]].toolchain,o+=", User Settings: "+e[n[i]].user_settings+")",t.append(r("<option></option>").val(n[i]).text(o))}})).fail((function(e,t,n){alert(n+"\n\n"+e.responseText)})),r("#ultimate-tab-create-unfiltered-btn").click((function(){i(r("#ultimate-tab-create-unfiltered-btn"),"all")}))},e.exports.init_ultimate_requirements_table_connection=function(e){r("#ultimate-tab-create-filtered-btn").click((function(){let t=[];e.rows({search:"applied"}).every((function(){let e=this.data();t.push(e.id)})),i(r("#ultimate-tab-create-filtered-btn"),t)})),r("#ultimate-tab-create-selected-btn").click((function(){let t=[];e.rows({selected:!0}).every((function(){let e=this.data();t.push(e.id)})),i(r("#ultimate-tab-create-selected-btn"),t)}))}},8357:e=>{"use strict";function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function d(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}function v(e){return Array.isArray?Array.isArray(e):"[object Array]"===w(e)}function m(e){return"string"==typeof e}function g(e){return"number"==typeof e}function _(e){return"object"===r(e)}function y(e){return null!=e}function b(e){return!e.trim().length}function w(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var x=function(e){return"Missing ".concat(e," property in key")},E=function(e){return"Property 'weight' in key '".concat(e,"' must be a positive integer")},C=Object.prototype.hasOwnProperty,O=function(){function e(t){var n=this;i(this,e),this._keys=[],this._keyMap={};var r=0;t.forEach((function(e){var t=k(e);n._keys.push(t),n._keyMap[t.id]=t,r+=t.weight})),this._keys.forEach((function(e){e.weight/=r}))}return a(e,[{key:"get",value:function(e){return this._keyMap[e]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),e}();function k(e){var t=null,n=null,r=null,i=1,o=null;if(m(e)||v(e))r=e,t=S(e),n=L(e);else{if(!C.call(e,"name"))throw new Error(x("name"));var a=e.name;if(r=a,C.call(e,"weight")&&(i=e.weight)<=0)throw new Error(E(a));t=S(a),n=L(a),o=e.getFn}return{path:t,id:n,weight:i,src:r,getFn:o}}function S(e){return v(e)?e:e.split(".")}function L(e){return v(e)?e.join("."):e}var M={useExtendedSearch:!1,getFn:function(e,t){var n=[],r=!1;return function e(t,i,o){if(y(t))if(i[o]){var a=t[i[o]];if(!y(a))return;if(o===i.length-1&&(m(a)||g(a)||function(e){return!0===e||!1===e||function(e){return _(e)&&null!==e}(e)&&"[object Boolean]"==w(e)}(a)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(a));else if(v(a)){r=!0;for(var s=0,c=a.length;s<c;s+=1)e(a[s],i,o+1)}else i.length&&e(a,i,o+1)}else n.push(t)}(e,m(t)?t.split("."):t,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},I=n(n(n(n({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(e,t){return e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1}}),{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1}),{location:0,threshold:.6,distance:100}),M),A=/[^ ]+/g,T=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.getFn,r=void 0===n?I.getFn:n,o=t.fieldNormWeight,a=void 0===o?I.fieldNormWeight:o;i(this,e),this.norm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=new Map,r=Math.pow(10,t);return{get:function(t){var i=t.match(A).length;if(n.has(i))return n.get(i);var o=1/Math.pow(i,.5*e),a=parseFloat(Math.round(o*r)/r);return n.set(i,a),a},clear:function(){n.clear()}}}(a,3),this.getFn=r,this.isCreated=!1,this.setIndexRecords()}return a(e,[{key:"setSources",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.docs=e}},{key:"setIndexRecords",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.records=e}},{key:"setKeys",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.keys=t,this._keysMap={},t.forEach((function(t,n){e._keysMap[t.id]=n}))}},{key:"create",value:function(){var e=this;!this.isCreated&&this.docs.length&&(this.isCreated=!0,m(this.docs[0])?this.docs.forEach((function(t,n){e._addString(t,n)})):this.docs.forEach((function(t,n){e._addObject(t,n)})),this.norm.clear())}},{key:"add",value:function(e){var t=this.size();m(e)?this._addString(e,t):this._addObject(e,t)}},{key:"removeAt",value:function(e){this.records.splice(e,1);for(var t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}},{key:"getValueForItemAtKeyId",value:function(e,t){return e[this._keysMap[t]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(e,t){if(y(e)&&!b(e)){var n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}}},{key:"_addObject",value:function(e,t){var n=this,r={i:t,$:{}};this.keys.forEach((function(t,i){var o=t.getFn?t.getFn(e):n.getFn(e,t.path);if(y(o))if(v(o)){for(var a=[],s=[{nestedArrIndex:-1,value:o}];s.length;){var c=s.pop(),l=c.nestedArrIndex,u=c.value;if(y(u))if(m(u)&&!b(u)){var h={v:u,i:l,n:n.norm.get(u)};a.push(h)}else v(u)&&u.forEach((function(e,t){s.push({nestedArrIndex:t,value:e})}))}r.$[i]=a}else if(m(o)&&!b(o)){var d={v:o,n:n.norm.get(o)};r.$[i]=d}})),this.records.push(r)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),e}();function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.getFn,i=void 0===r?I.getFn:r,o=n.fieldNormWeight,a=void 0===o?I.fieldNormWeight:o,s=new T({getFn:i,fieldNormWeight:a});return s.setKeys(e.map(k)),s.setSources(t),s.create(),s}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.errors,r=void 0===n?0:n,i=t.currentLocation,o=void 0===i?0:i,a=t.expectedLocation,s=void 0===a?0:a,c=t.distance,l=void 0===c?I.distance:c,u=t.ignoreLocation,h=void 0===u?I.ignoreLocation:u,d=r/e.length;if(h)return d;var f=Math.abs(s-o);return l?d+f/l:f?1:d}var D=32;function P(e){for(var t={},n=0,r=e.length;n<r;n+=1){var i=e.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}var j=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.location,a=void 0===o?I.location:o,s=r.threshold,c=void 0===s?I.threshold:s,l=r.distance,u=void 0===l?I.distance:l,h=r.includeMatches,d=void 0===h?I.includeMatches:h,f=r.findAllMatches,p=void 0===f?I.findAllMatches:f,v=r.minMatchCharLength,m=void 0===v?I.minMatchCharLength:v,g=r.isCaseSensitive,_=void 0===g?I.isCaseSensitive:g,y=r.ignoreLocation,b=void 0===y?I.ignoreLocation:y;if(i(this,e),this.options={location:a,threshold:c,distance:u,includeMatches:d,findAllMatches:p,minMatchCharLength:m,isCaseSensitive:_,ignoreLocation:b},this.pattern=_?t:t.toLowerCase(),this.chunks=[],this.pattern.length){var w=function(e,t){n.chunks.push({pattern:e,alphabet:P(e),startIndex:t})},x=this.pattern.length;if(x>D){for(var E=0,C=x%D,O=x-C;E<O;)w(this.pattern.substr(E,D),E),E+=D;if(C){var k=x-D;w(this.pattern.substr(k),k)}}else w(this.pattern,0)}}return a(e,[{key:"searchIn",value:function(e){var t=this.options,n=t.isCaseSensitive,r=t.includeMatches;if(n||(e=e.toLowerCase()),this.pattern===e){var i={isMatch:!0,score:0};return r&&(i.indices=[[0,e.length-1]]),i}var o=this.options,a=o.location,s=o.distance,c=o.threshold,l=o.findAllMatches,u=o.minMatchCharLength,h=o.ignoreLocation,f=[],p=0,v=!1;this.chunks.forEach((function(t){var n=t.pattern,i=t.alphabet,o=t.startIndex,m=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.location,o=void 0===i?I.location:i,a=r.distance,s=void 0===a?I.distance:a,c=r.threshold,l=void 0===c?I.threshold:c,u=r.findAllMatches,h=void 0===u?I.findAllMatches:u,d=r.minMatchCharLength,f=void 0===d?I.minMatchCharLength:d,p=r.includeMatches,v=void 0===p?I.includeMatches:p,m=r.ignoreLocation,g=void 0===m?I.ignoreLocation:m;if(t.length>D)throw new Error("Pattern length exceeds max of ".concat(D,"."));for(var _,y=t.length,b=e.length,w=Math.max(0,Math.min(o,b)),x=l,E=w,C=f>1||v,O=C?Array(b):[];(_=e.indexOf(t,E))>-1;){var k=q(t,{currentLocation:_,expectedLocation:w,distance:s,ignoreLocation:g});if(x=Math.min(k,x),E=_+y,C)for(var S=0;S<y;)O[_+S]=1,S+=1}E=-1;for(var L=[],M=1,A=y+b,T=1<<y-1,N=0;N<y;N+=1){for(var P=0,j=A;P<j;)q(t,{errors:N,currentLocation:w+j,expectedLocation:w,distance:s,ignoreLocation:g})<=x?P=j:A=j,j=Math.floor((A-P)/2+P);A=j;var R=Math.max(1,w-j+1),F=h?b:Math.min(w+j,b)+y,z=Array(F+2);z[F+1]=(1<<N)-1;for(var $=F;$>=R;$-=1){var W=$-1,U=n[e.charAt(W)];if(C&&(O[W]=+!!U),z[$]=(z[$+1]<<1|1)&U,N&&(z[$]|=(L[$+1]|L[$])<<1|1|L[$+1]),z[$]&T&&(M=q(t,{errors:N,currentLocation:W,expectedLocation:w,distance:s,ignoreLocation:g}))<=x){if(x=M,(E=W)<=w)break;R=Math.max(1,2*w-E)}}if(q(t,{errors:N+1,currentLocation:w,expectedLocation:w,distance:s,ignoreLocation:g})>x)break;L=z}var H={isMatch:E>=0,score:Math.max(.001,M)};if(C){var B=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I.minMatchCharLength,n=[],r=-1,i=-1,o=0,a=e.length;o<a;o+=1){var s=e[o];s&&-1===r?r=o:s||-1===r||((i=o-1)-r+1>=t&&n.push([r,i]),r=-1)}return e[o-1]&&o-r>=t&&n.push([r,o-1]),n}(O,f);B.length?v&&(H.indices=B):H.isMatch=!1}return H}(e,n,i,{location:a+o,distance:s,threshold:c,findAllMatches:l,minMatchCharLength:u,includeMatches:r,ignoreLocation:h}),g=m.isMatch,_=m.score,y=m.indices;g&&(v=!0),p+=_,g&&y&&(f=[].concat(d(f),d(y)))}));var m={isMatch:v,score:v?p/this.chunks.length:1};return v&&r&&(m.indices=f),m}}]),e}(),R=function(){function e(t){i(this,e),this.pattern=t}return a(e,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(e){return F(e,this.multiRegex)}},{key:"isSingleMatch",value:function(e){return F(e,this.singleRegex)}}]),e}();function F(e,t){var n=e.match(t);return n?n[1]:null}var z=function(e){c(n,e);var t=h(n);function n(e){return i(this,n),t.call(this,e)}return a(n,[{key:"search",value:function(e){var t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),n}(R),$=function(e){c(n,e);var t=h(n);function n(e){return i(this,n),t.call(this,e)}return a(n,[{key:"search",value:function(e){var t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),n}(R),W=function(e){c(n,e);var t=h(n);function n(e){return i(this,n),t.call(this,e)}return a(n,[{key:"search",value:function(e){var t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),n}(R),U=function(e){c(n,e);var t=h(n);function n(e){return i(this,n),t.call(this,e)}return a(n,[{key:"search",value:function(e){var t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),n}(R),H=function(e){c(n,e);var t=h(n);function n(e){return i(this,n),t.call(this,e)}return a(n,[{key:"search",value:function(e){var t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),n}(R),B=function(e){c(n,e);var t=h(n);function n(e){return i(this,n),t.call(this,e)}return a(n,[{key:"search",value:function(e){var t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),n}(R),Q=function(e){c(n,e);var t=h(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.location,s=void 0===a?I.location:a,c=o.threshold,l=void 0===c?I.threshold:c,u=o.distance,h=void 0===u?I.distance:u,d=o.includeMatches,f=void 0===d?I.includeMatches:d,p=o.findAllMatches,v=void 0===p?I.findAllMatches:p,m=o.minMatchCharLength,g=void 0===m?I.minMatchCharLength:m,_=o.isCaseSensitive,y=void 0===_?I.isCaseSensitive:_,b=o.ignoreLocation,w=void 0===b?I.ignoreLocation:b;return i(this,n),(r=t.call(this,e))._bitapSearch=new j(e,{location:s,threshold:l,distance:h,includeMatches:f,findAllMatches:v,minMatchCharLength:g,isCaseSensitive:y,ignoreLocation:w}),r}return a(n,[{key:"search",value:function(e){return this._bitapSearch.searchIn(e)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),n}(R),J=function(e){c(n,e);var t=h(n);function n(e){return i(this,n),t.call(this,e)}return a(n,[{key:"search",value:function(e){for(var t,n=0,r=[],i=this.pattern.length;(t=e.indexOf(this.pattern,n))>-1;)n=t+i,r.push([t,n-1]);var o=!!r.length;return{isMatch:o,score:o?0:1,indices:r}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),n}(R),X=[z,J,W,U,B,H,$,Q],V=X.length,K=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,G=new Set([Q.type,J.type]),Y=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.isCaseSensitive,o=void 0===r?I.isCaseSensitive:r,a=n.includeMatches,s=void 0===a?I.includeMatches:a,c=n.minMatchCharLength,l=void 0===c?I.minMatchCharLength:c,u=n.ignoreLocation,h=void 0===u?I.ignoreLocation:u,d=n.findAllMatches,f=void 0===d?I.findAllMatches:d,p=n.location,v=void 0===p?I.location:p,m=n.threshold,g=void 0===m?I.threshold:m,_=n.distance,y=void 0===_?I.distance:_;i(this,e),this.query=null,this.options={isCaseSensitive:o,includeMatches:s,minMatchCharLength:l,findAllMatches:f,ignoreLocation:h,location:v,threshold:g,distance:y},this.pattern=o?t:t.toLowerCase(),this.query=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.split("|").map((function(e){for(var n=e.trim().split(K).filter((function(e){return e&&!!e.trim()})),r=[],i=0,o=n.length;i<o;i+=1){for(var a=n[i],s=!1,c=-1;!s&&++c<V;){var l=X[c],u=l.isMultiMatch(a);u&&(r.push(new l(u,t)),s=!0)}if(!s)for(c=-1;++c<V;){var h=X[c],d=h.isSingleMatch(a);if(d){r.push(new h(d,t));break}}}return r}))}(this.pattern,this.options)}return a(e,[{key:"searchIn",value:function(e){var t=this.query;if(!t)return{isMatch:!1,score:1};var n=this.options,r=n.includeMatches;e=n.isCaseSensitive?e:e.toLowerCase();for(var i=0,o=[],a=0,s=0,c=t.length;s<c;s+=1){var l=t[s];o.length=0,i=0;for(var u=0,h=l.length;u<h;u+=1){var f=l[u],p=f.search(e),v=p.isMatch,m=p.indices,g=p.score;if(!v){a=0,i=0,o.length=0;break}if(i+=1,a+=g,r){var _=f.constructor.type;G.has(_)?o=[].concat(d(o),d(m)):o.push(m)}}if(i){var y={isMatch:!0,score:a/i};return r&&(y.indices=o),y}}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(e,t){return t.useExtendedSearch}}]),e}(),Z=[];function ee(e,t){for(var n=0,r=Z.length;n<r;n+=1){var i=Z[n];if(i.condition(e,t))return new i(e,t)}return new j(e,t)}var te="$and",ne="$path",re=function(e){return!(!e[te]&&!e.$or)},ie=function(e){return s({},te,Object.keys(e).map((function(t){return s({},t,e[t])})))};function oe(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).auto,r=void 0===n||n;return re(e)||(e=ie(e)),function e(n){var i=Object.keys(n),o=function(e){return!!e[ne]}(n);if(!o&&i.length>1&&!re(n))return e(ie(n));if(function(e){return!v(e)&&_(e)&&!re(e)}(n)){var a=o?n[ne]:i[0],s=o?n.$val:n[a];if(!m(s))throw new Error(function(e){return"Invalid value for key ".concat(e)}(a));var c={keyId:L(a),pattern:s};return r&&(c.searcher=ee(s,t)),c}var l={children:[],operator:i[0]};return i.forEach((function(t){var r=n[t];v(r)&&r.forEach((function(t){l.children.push(e(t))}))})),l}(e)}function ae(e,t){var n=e.matches;t.matches=[],y(n)&&n.forEach((function(e){if(y(e.indices)&&e.indices.length){var n={indices:e.indices,value:e.value};e.key&&(n.key=e.key.src),e.idx>-1&&(n.refIndex=e.idx),t.matches.push(n)}}))}function se(e,t){t.score=e.score}var ce=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;i(this,e),this.options=n(n({},I),r),this.options.useExtendedSearch,this._keyStore=new O(this.options.keys),this.setCollection(t,o)}return a(e,[{key:"setCollection",value:function(e,t){if(this._docs=e,t&&!(t instanceof T))throw new Error("Incorrect 'index' type");this._myIndex=t||N(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}},{key:"add",value:function(e){y(e)&&(this._docs.push(e),this._myIndex.add(e))}},{key:"remove",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!1},t=[],n=0,r=this._docs.length;n<r;n+=1){var i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,r-=1,t.push(i))}return t}},{key:"removeAt",value:function(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).limit,n=void 0===t?-1:t,r=this.options,i=r.includeMatches,o=r.includeScore,a=r.shouldSort,s=r.sortFn,c=r.ignoreFieldNorm,l=m(e)?m(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,t){var n=t.ignoreFieldNorm,r=void 0===n?I.ignoreFieldNorm:n;e.forEach((function(e){var t=1;e.matches.forEach((function(e){var n=e.key,i=e.norm,o=e.score,a=n?n.weight:null;t*=Math.pow(0===o&&a?Number.EPSILON:o,(a||1)*(r?1:i))})),e.score=t}))}(l,{ignoreFieldNorm:c}),a&&l.sort(s),g(n)&&n>-1&&(l=l.slice(0,n)),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.includeMatches,i=void 0===r?I.includeMatches:r,o=n.includeScore,a=void 0===o?I.includeScore:o,s=[];return i&&s.push(ae),a&&s.push(se),e.map((function(e){var n=e.idx,r={item:t[n],refIndex:n};return s.length&&s.forEach((function(t){t(e,r)})),r}))}(l,this._docs,{includeMatches:i,includeScore:o})}},{key:"_searchStringList",value:function(e){var t=ee(e,this.options),n=this._myIndex.records,r=[];return n.forEach((function(e){var n=e.v,i=e.i,o=e.n;if(y(n)){var a=t.searchIn(n),s=a.isMatch,c=a.score,l=a.indices;s&&r.push({item:n,idx:i,matches:[{score:c,value:n,norm:o,indices:l}]})}})),r}},{key:"_searchLogical",value:function(e){var t=this,n=oe(e,this.options),r=function e(n,r,i){if(!n.children){var o=n.keyId,a=n.searcher,s=t._findMatches({key:t._keyStore.get(o),value:t._myIndex.getValueForItemAtKeyId(r,o),searcher:a});return s&&s.length?[{idx:i,item:r,matches:s}]:[]}for(var c=[],l=0,u=n.children.length;l<u;l+=1){var h=e(n.children[l],r,i);if(h.length)c.push.apply(c,d(h));else if(n.operator===te)return[]}return c},i=this._myIndex.records,o={},a=[];return i.forEach((function(e){var t=e.$,i=e.i;if(y(t)){var s=r(n,t,i);s.length&&(o[i]||(o[i]={idx:i,item:t,matches:[]},a.push(o[i])),s.forEach((function(e){var t,n=e.matches;(t=o[i].matches).push.apply(t,d(n))})))}})),a}},{key:"_searchObjectList",value:function(e){var t=this,n=ee(e,this.options),r=this._myIndex,i=r.keys,o=r.records,a=[];return o.forEach((function(e){var r=e.$,o=e.i;if(y(r)){var s=[];i.forEach((function(e,i){s.push.apply(s,d(t._findMatches({key:e,value:r[i],searcher:n})))})),s.length&&a.push({idx:o,item:r,matches:s})}})),a}},{key:"_findMatches",value:function(e){var t=e.key,n=e.value,r=e.searcher;if(!y(n))return[];var i=[];if(v(n))n.forEach((function(e){var n=e.v,o=e.i,a=e.n;if(y(n)){var s=r.searchIn(n),c=s.isMatch,l=s.score,u=s.indices;c&&i.push({score:l,key:t,value:n,idx:o,norm:a,indices:u})}}));else{var o=n.v,a=n.n,s=r.searchIn(o),c=s.isMatch,l=s.score,u=s.indices;c&&i.push({score:l,key:t,value:o,norm:a,indices:u})}return i}}]),e}();ce.version="7.0.0",ce.createIndex=N,ce.parseIndex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getFn,r=void 0===n?I.getFn:n,i=t.fieldNormWeight,o=void 0===i?I.fieldNormWeight:i,a=e.keys,s=e.records,c=new T({getFn:r,fieldNormWeight:o});return c.setKeys(a),c.setIndexRecords(s),c},ce.config=I,ce.parseQuery=oe,function(){Z.push.apply(Z,arguments)}(Y);var le=ce;e.exports=le},6628:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i}),n(4692);var r=n(5194);n(2877),r.default.select.classes.checkbox="form-check-input";const i=r.default},2531:(e,t,n)=>{"use strict";function r(e,t,n){const r=e.value,i=t+(n||""),o=document.activeElement;let a=0,s=0;for(;a<r.length&&a<i.length&&r[a]===i[a];)a++;for(;r.length-s-1>=0&&i.length-s-1>=0&&r[r.length-s-1]===i[i.length-s-1];)s++;a=Math.min(a,Math.min(r.length,i.length)-s),e.setSelectionRange(a,r.length-s);const c=i.substring(a,i.length-s);if(e.focus(),!document.execCommand("insertText",!1,c)){e.value=i;const t=document.createEvent("Event");t.initEvent("input",!0,!0),e.dispatchEvent(t)}return e.setSelectionRange(t.length,t.length),o.focus(),e}function i(e,t,n){const i=e.selectionEnd,o=e.value.substr(0,e.selectionStart)+t,a=e.value.substring(e.selectionStart,i)+(n||"")+e.value.substr(i);return r(e,o,a),e.selectionEnd=i+t.length,e}n.r(t),n.d(t,{update:()=>r,wrapCursor:()=>i})}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={id:e,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.exports}r.m=t,e=[],r.O=(t,n,i,o)=>{if(!n){var a=1/0;for(u=0;u<e.length;u++){for(var[n,i,o]=e[u],s=!0,c=0;c<n.length;c++)(!1&o||a>=o)&&Object.keys(r.O).every((e=>r.O[e](n[c])))?n.splice(c--,1):(s=!1,o<a&&(a=o));if(s){e.splice(u--,1);var l=i();void 0!==l&&(t=l)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,i,o]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.j=299,(()=>{var e={299:0,751:0,838:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var i,o,[a,s,c]=n,l=0;if(a.some((t=>0!==e[t]))){for(i in s)r.o(s,i)&&(r.m[i]=s[i]);if(c)var u=c(r)}for(t&&t(n);l<a.length;l++)o=a[l],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(u)},n=self.webpackChunkhanfor=self.webpackChunkhanfor||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.nc=void 0;var i=r.O(void 0,[223],(()=>r(1521)));i=r.O(i)})();